<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="mingchao.wang">
        <link rel="canonical" href="https://mingchao.wang/008_algorithm/004_%E5%AD%97%E7%AC%A6%E4%B8%B2/%E5%9B%B0%E9%9A%BE/0076_%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2/">
        <link rel="shortcut icon" href="../../../../img/favicon.ico">
        <title>Index - 算法工程师笔记</title>
        <link href="../../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/obsidian.min.css">
        <link href="../../../../css/extra.css" rel="stylesheet">

        <script src="../../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/django.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/python.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-274394082"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'G-274394082');
        </script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a class="navbar-brand" href="../../../..">算法工程师笔记</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a href="https://github.com/wmc1992/" class="nav-link"><i class="fa fa-github"></i> GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#76" class="nav-link">76. 最小覆盖子串</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#1" class="nav-link">1、题目描述</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#2" class="nav-link">2、思路说明</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#21-1" class="nav-link">2.1 思路1</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#22-2" class="nav-link">2.2 思路2</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#3" class="nav-link">3、代码</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#31-1" class="nav-link">3.1 代码1</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#32-2" class="nav-link">3.2 代码2</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<p align="right">[<a href="/pIQKOTpZ_no_toc/">隐藏左侧目录栏</a>][<a href="/pIQKOTpZ/">显示左侧目录栏</a>]</p>

<h1 id="76">76. 最小覆盖子串<a class="headerlink" href="#76" title="Permanent link">#</a></h1>
<p>链接: <a href="https://leetcode.cn/problems/minimum-window-substring/">https://leetcode.cn/problems/minimum-window-substring/</a></p>
<h2 id="1">1、题目描述<a class="headerlink" href="#1" title="Permanent link">#</a></h2>
<p>给你一个字符串 s 、一个字符串 t 。返回 s 中涵盖 t 所有字符的最小子串。如果 s 中不存在涵盖 t 所有字符的子串，则返回空字符串 "" 。</p>
<p><strong>注意：</strong></p>
<ul>
<li>对于 t 中重复字符，我们寻找的子字符串中该字符数量必须不少于 t 中该字符数量。</li>
<li>如果 s 中存在这样的子串，我们保证它是唯一的答案。</li>
</ul>
<p>示例 1：</p>
<blockquote>
<p>输入：s = "ADOBECODEBANC", t = "ABC"</p>
<p>输出："BANC"</p>
<p>解释：最小覆盖子串 "BANC" 包含来自字符串 t 的 'A'、'B' 和 'C'。</p>
</blockquote>
<p>示例 2：</p>
<blockquote>
<p>输入：s = "a", t = "a"</p>
<p>输出："a"</p>
<p>解释：整个字符串 s 是最小覆盖子串。</p>
</blockquote>
<p>示例 3:</p>
<blockquote>
<p>输入: s = "a", t = "aa"</p>
<p>输出: ""</p>
<p>解释: t 中两个字符 'a' 均应包含在 s 的子串中，因此没有符合条件的子字符串，返回空字符串。</p>
</blockquote>
<p>提示：</p>
<ul>
<li>m == s.length</li>
<li>n == t.length</li>
<li>1 &lt;= m, n &lt;= 105</li>
<li>s 和 t 由英文字母组成</li>
</ul>
<p>进阶：你能设计一个在 o(m+n) 时间内解决此问题的算法吗？</p>
<h2 id="2">2、思路说明<a class="headerlink" href="#2" title="Permanent link">#</a></h2>
<h3 id="21-1">2.1 思路1<a class="headerlink" href="#21-1" title="Permanent link">#</a></h3>
<p>使用快慢指针/滑动窗口解决。该滑动窗口对字符串 s 从左向右遍历，下面说一下左右指针向右移动的时机问题：</p>
<ul>
<li>右指针向右移动的时机：当窗口内的字符串没有包含字符串 t 中的所有字符时；</li>
<li>左指针向右移动的时机：当窗口内的字符串已经包含了字符串 t 中的所有字符时；</li>
</ul>
<p>还有一点比较关键的是：如何判断窗口内的字符串已经包含了字符串 t 中的所有字符。最简单的方法就是直接使用两个 hash 表存储每个字符的个数，每次判断每个字符是否已经都包含了。</p>
<p>详细代码见 3.1 小节。</p>
<h3 id="22-2">2.2 思路2<a class="headerlink" href="#22-2" title="Permanent link">#</a></h3>
<p>在上一小节 2.1 中提到的思路中，快慢指针/滑动窗口的思路完全没有问题，可以优化的是每次判断窗口内的字符串是否已经包含了字符串 t 中的所有字符。在上一个思路中每次都需要遍历所有的字符来进行判断，实际上每次指针的移动仅有一个字符发生了变化，其他的字符都没有变化，所以这里可以做一些优化。详细的代码见第 3.2 小节。</p>
<h2 id="3">3、代码<a class="headerlink" href="#3" title="Permanent link">#</a></h2>
<h3 id="31-1">3.1 代码1<a class="headerlink" href="#31-1" title="Permanent link">#</a></h3>
<pre><code class="language-python">class Solution:

    def process_1(self, s, t):
        &quot;&quot;&quot;
        采用滑动窗口的思路解决。

        右指针向右移动的时机为：当窗口内没有包含字符串 t 中的所有字符；
        左指针向右移动的时机为：当窗口内已经包含了字符串 t 中的所有字符；
        &quot;&quot;&quot;

        def is_valid(tar_hash, tmp_hash):
            for k, v in tar_hash.items():
                if tmp_hash.get(k, 0) &lt; v:
                    return False
            return True

        tar_hash = dict()
        for item in t:
            tar_hash[item] += 1

        l, r = 0, 0
        tmp_hash = dict()

        result_str = &quot;&quot;

        while r &lt; len(s):
            tmp_hash[s[r]] += 1
            r += 1

            while is_valid(tar_hash, tmp_hash):
                if len(result_str) &lt;= 0:
                    result_str = s[l:r]
                else:
                    if len(s[l:r]) &lt; len(result_str):
                        result_str = s[l:r]

                tmp_hash[s[l]] -= 1
                l += 1

        return result_str
</code></pre>
<h3 id="32-2">3.2 代码2<a class="headerlink" href="#32-2" title="Permanent link">#</a></h3>
<pre><code class="language-python">class Solution:

    def process_2(self, s, t):
        &quot;&quot;&quot;
        滑动窗口的思路没有问题；

        剩下的主要就是优化一下每次判断窗口内是否包含了字符串 t 中的所有字符；
        &quot;&quot;&quot;

        l, r = 0, 0

        tar_hash = dict()
        for item in t:
            tar_hash[item] += 1

        tmp_hash = dict()
        satisfy_num = 0

        result_str = &quot;&quot;

        while r &lt; len(s):
            tmp_hash[s[r]] += 1
            r += 1

            # 在右指针移动前该字符不满足，右指针移动后该字符满足了，那么 satisfy_num 就加 1
            if (tmp_hash[s[r]] - 1 &lt; tar_hash.get(s[r], 0)) and (tmp_hash[s[r]] &gt;= tar_hash.get(s[r], 0)):
                satisfy_num += 1

            while satisfy_num &gt;= len(tar_hash):  # 只要窗口内包含 t 中的所有字符，那么就进行向右移动左指针的操作

                # 先试着更新结果
                if len(result_str) &lt;= 0:
                    result_str = s[l:r]
                else:
                    if len(s[l:r]) &lt; len(result_str):
                        result_str = s[l:r]

                # 向右移动左指针
                tmp_hash[s[l]] -= 1
                l += 1

                # 在向右移动左指针之前满足，向右移动左指针之后不满足了，那么 satisfy_num 就减 1
                if (tmp_hash[s[l]] + 1 &gt;= tar_hash.get(s[l], 0)) and (tmp_hash[s[l]] &lt; tar_hash.get(s[l], 0)):
                    satisfy_num -= 1

        return result_str
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2021 Microsoft Research;<a href="https://beian.miit.gov.cn/">备案号：京ICP备2022025323号-1</a></p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../../js/base.js" defer></script>
        <script src="../../../../mathjax-config.js" defer></script>
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer></script>
        <script src="../../../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
